<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Diogo Redin]]></title><description><![CDATA[Software Engineering]]></description><link>https://diogoredin.github.io/</link><image><url>https://diogoredin.github.io/favicon.png</url><title>Diogo Redin</title><link>https://diogoredin.github.io/</link></image><generator>Ghost 5.26</generator><lastBuildDate>Fri, 13 Jan 2023 17:20:11 GMT</lastBuildDate><atom:link href="https://diogoredin.github.io/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Building a Vanilla JavaScript & CSS Tooltip]]></title><description><![CDATA[In this article, we are going to implement a tooltip in plain JavaScript and CSS. A tooltip is a message which appears when a cursor is positioned over an icon, image, links, or other elements in order to give more information to the user.]]></description><link>https://diogoredin.github.io/building-a-vanilla-javascript-css-tooltip/</link><guid isPermaLink="false">63b5f26d71ec4d3f0b47cb3b</guid><category><![CDATA[CSS]]></category><category><![CDATA[Accessibility]]></category><category><![CDATA[Frontend]]></category><category><![CDATA[Development]]></category><category><![CDATA[JavaScript]]></category><dc:creator><![CDATA[Diogo Redin]]></dc:creator><pubDate>Fri, 14 Oct 2022 11:57:27 GMT</pubDate><media:content url="https://diogoredin.github.io/content/images/2023/01/absolutvision-WYd_PkCa1BY-unsplash.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://diogoredin.github.io/content/images/2023/01/absolutvision-WYd_PkCa1BY-unsplash.jpg" alt="Building a Vanilla JavaScript &amp; CSS Tooltip"><p>In this article, we are going to implement a tooltip in plain JavaScript and CSS. A tooltip is a message which appears when a cursor is positioned over an icon, image, links, or other elements in order to give more information to the user. These are usually non-interactble and not essential in a page.</p>
<h2 id="defining-the-component-api">Defining the component API</h2>
<p>The first step for building this tooltip will be to create a HTML, CSS and JavaScript file. Alternatively you can follow along by creating a CodePen.</p>
<p>Our base <code>index.html</code> file looks something like this:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;meta
      name=&quot;viewport&quot;
      content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;
    /&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot; /&gt;
    &lt;title&gt;Vanilla JavaScript and CSS Tooltip&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;main&gt;
      &lt;p&gt;
        Geckos are a group of usually small, usually nocturnal lizards. They are
        found on every continent except Australia.
      &lt;/p&gt;

      &lt;p&gt;
        Many species of gecko have adhesive toe pads which enable them to climb
        walls and even windows.
      &lt;/p&gt;
    &lt;/main&gt;

    &lt;script src=&quot;./main.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>It includes two paragraphs where we will eventually place some tooltips and links to our stylesheet and main JavaScript file, where will have the tooltip logic.</p>
<p>Whenever developing a component, my first question is which API I would like it to have. My assumption is that a tooltip should be lean (without much boilerplate code), easy to use (and wrap around content) and accessible. Given these conditions we can start with something like:</p>
<pre><code class="language-html">&lt;span data-tooltip=&quot;Hello world!&quot;&gt;Australia&lt;/span&gt;.
</code></pre>
<p>This snippet is not yet accessible (actually there isn&apos;t even a tooltip here yet), but we can do that with a bit of JavaScript.</p>
<p>Before we get to it, we can add some styling to the page, so we see the tooltips better:</p>
<pre><code class="language-css">main {
  font-family: Arial, Helvetica, sans-serif;
  line-height: 1.5rem;
  font-size: 16px;
  padding: 5%;
}

[data-tooltip] {
  text-decoration: underline;
}
</code></pre>
<p>And we can actually add some tooltips, with varying amounts of content. Since it should be possible to use tooltips inside paragraphs we opt for <code>&lt;span&gt;</code>, which is a valid child of <code>&lt;p&gt;</code> and displays itself as inline by default, only taking as much space as it&apos;s content requires. Using <code>data-tooltip</code> allow us to store extra information without other hacks such as non-standard attributes, or extra properties on the DOM.</p>
<pre><code class="language-html">&lt;main&gt;
  &lt;p&gt;
    Geckos are a group of usually small, usually nocturnal lizards. They are
    found on every continent except
    &lt;span
      data-tooltip=&quot;Geckos are a group of usually small, usually nocturnal lizards.&quot;
      &gt;Australia&lt;/span
    &gt;.
  &lt;/p&gt;

  &lt;p&gt;
    Many species of gecko have
    &lt;span data-tooltip=&quot;Hi there!&quot;&gt;adhesive&lt;/span&gt; toe pads which enable them to
    climb walls and even windows.
  &lt;/p&gt;
&lt;/main&gt;
</code></pre>
<h2 id="adding-tooltips-to-our-html">Adding tooltips to our HTML</h2>
<p>So far we only have spans indicating where tooltips should be placed and with which content, so our next step should be to add them to our HTML. This will allow us to properly build the tooltip, but also expose them to search engine robots and make them accessible to screen readers.</p>
<pre><code class="language-javascript">const tooltips = document.querySelectorAll(&quot;[data-tooltip]&quot;);
</code></pre>
<p><code>querySelectorAll</code> allows us to get all &quot;tooltips&quot; that should be placed in the document using a CSS selector. It gives us back an iterable HTML collection with all the elements found.</p>
<pre><code class="language-javascript">tooltips.forEach((trigger) =&gt; {
  let tooltip = document.createElement(&quot;div&quot;);

  tooltip.setAttribute(&quot;role&quot;, &quot;tooltip&quot;);
  tooltip.setAttribute(&quot;inert&quot;, true);
  tooltip.textContent = trigger.dataset.tooltip;

  trigger.appendChild(tooltip);
});
</code></pre>
<p>We can take the elements and for each of them add an actual accessible tooltip:</p>
<ol>
<li><code>role=tooltip</code> so screen readers know what the content is;</li>
<li><code>inert</code> because the user should not be able to interact with it (otherwise, it would be a popup);</li>
</ol>
<p>After loading the page our HTML should have the following structure:</p>
<pre><code class="language-html">&lt;main&gt;
  &lt;p&gt;
    Geckos are a group of usually small, usually nocturnal lizards. They are
    found on every continent except
    &lt;span
      data-tooltip=&quot;Geckos are a group of usually small, usually nocturnal lizards.&quot;
    &gt;
      Australia
      &lt;div role=&quot;tooltip&quot; inert=&quot;true&quot;&gt;
        Geckos are a group of usually small, usually nocturnal lizards.
      &lt;/div&gt; &lt;/span
    &gt;.
  &lt;/p&gt;

  &lt;p&gt;
    Many species of gecko have
    &lt;span data-tooltip=&quot;Hi there!&quot;&gt;
      adhesive
      &lt;div role=&quot;tooltip&quot; inert=&quot;true&quot;&gt;Hi there!&lt;/div&gt;
    &lt;/span&gt;
    toe pads which enable them to climb walls and even windows.
  &lt;/p&gt;
&lt;/main&gt;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="styling-the-tooltip">Styling the Tooltip</h2>
<p>In order to be able to see the tooltip in our page we can start by applying some width, height and positioning. The <code>width: auto</code> allows the tooltip to grow in size as it wants, while never exceeding the size of it&apos;s parent (this takes into account margins and padding). We however set <code>max-width: 20%</code> to ensure that a tooltip placed in the middle of the container doesn&apos;t become too large.</p>
<p>In terms of height, it&apos;s also set to <code>height: auto</code> so the tooltip can grow in height in case there is too much content. <code>word-wrap</code> is also left at it&apos;s default value (<code>normal</code>) so text breaks down into multiple lines. <code>min-height: 25px</code> ensures the tooltip always has an appropriate height, and <code>line-height</code> of the same size ensures a single line is displayed aligned in the middle. <code>font-size: 1rem</code> applies 1x the font size set in the root element of the page, which is good for accessibility because this is affected by what the <em>font-size</em> the user sets in their browser.</p>
<p>We apply a small margin at the top, so the tooltip is not too close to the content and padding as well, so there is space between the borders of the tooltip and the content. Most tooltips have a reduced opacity but only for the background, because the text should still have a good contrast. For this we can use a <code>rgba</code> value (red, green, blue, alpha), where the last value indicates the opacity of the color. This allows us to only apply opacity to the background and not the content. Lastly <code>border-radius</code> applies rounded corners to the element equally.</p>
<pre><code class="language-css">[role=&quot;tooltip&quot;] {
  width: auto;
  max-width: 20%;
  height: auto;
  min-height: 25px;
  line-height: 25px;
  font-size: 1rem;
  background-color: rgba(0, 0, 0, 0.7);
  color: #ffffff;
  border-radius: 5px;
  margin-top: 10px;
  padding: 10px 15px;
}
</code></pre>
<blockquote>
<p>Note: Right now the tooltip is always displayed, we will handle the displaying and hiding in a further section.</p>
</blockquote>
<!--kg-card-end: markdown--><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://diogoredin.github.io/content/images/2023/01/Screenshot-2022-10-14-at-13.12.31.png" class="kg-image" alt="Building a Vanilla JavaScript &amp; CSS Tooltip" loading="lazy" width="2000" height="525" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/Screenshot-2022-10-14-at-13.12.31.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/Screenshot-2022-10-14-at-13.12.31.png 1000w, https://diogoredin.github.io/content/images/size/w1600/2023/01/Screenshot-2022-10-14-at-13.12.31.png 1600w, https://diogoredin.github.io/content/images/2023/01/Screenshot-2022-10-14-at-13.12.31.png 2000w" sizes="(min-width: 720px) 720px"><figcaption>Our styled tooltip at the end of this article</figcaption></figure><!--kg-card-begin: markdown--><h2 id="positioning-the-tooltip">Positioning the Tooltip</h2>
<p>Now that we have some basic styles we can actually position the tooltip correctly. Most of the times the desired position is in the middle of the hovered element, so that&apos;s what we are going to do.</p>
<p>First we attach an event handler to detect when the mouse enters an element that should display a tooltip. The <code>mouseenter</code> event is used because it&apos;s only triggered when the mouse pointer enters the div element, while the <code>mouseover</code> event is triggered when the mouse pointer enters the div element or its child elements (which would include the tooltip itself).</p>
<p>Once the event is triggered we try to find the tooltip nested inside using a <code>querySelector</code> again but now for a single element. <code>getBoundingClientRect</code> returns <code>x</code>, <code>y</code> referent to the position of the trigger element (e.g. a word) in the viewport and <code>width</code> and <code>height</code> of the trigger element.</p>
<p>Using this information and by also applying <code>position: absolute</code> in it&apos;s CSS, we firstly position the element at the start of the word. By summing half of the width of the word, we then position the start of the tooltip at the middle of the word. Because we actually want the tooltip to start before the middle, so their middles&apos; coincide we apply a transformation of <code>transform: translateX(-50%)</code>. The schema below should help you understand the positioning better.</p>
<pre><code class="language-javascript">const displayTooltip = (e) =&gt; {
  const trigger = e.target;
  const tooltip = trigger.querySelector(&quot;[role=tooltip]&quot;);

  const { x, y, width, height } = trigger.getBoundingClientRect();
  tooltip.style.left = `${Math.floor(x + width / 2)}px`;
  tooltip.style.top = `${Math.floor(y + height)}px`;
};

tooltips.forEach((trigger) =&gt; {
	...

  trigger.appendChild(tooltip);

	trigger.addEventListener(&quot;mouseenter&quot;, displayTooltip);
});
</code></pre>
<pre><code class="language-css">[role=&quot;tooltip&quot;] {
	...
  position: absolute;
  transform: translateX(-50%);
}
</code></pre>
<!--kg-card-end: markdown--><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/positioning_tooltip-1.png" class="kg-image" alt="Building a Vanilla JavaScript &amp; CSS Tooltip" loading="lazy" width="858" height="1004" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/positioning_tooltip-1.png 600w, https://diogoredin.github.io/content/images/2023/01/positioning_tooltip-1.png 858w" sizes="(min-width: 720px) 720px"></figure><!--kg-card-begin: markdown--><h2 id="fading-in-the-tooltip">Fading in the Tooltip</h2>
<p>Until now our tooltips are always displayed, and the <code>mouseenter</code> event is just applying the correct positioning. For tooltips the desired behavior is that they are hidden by default and only displayed after the user has spent some time with their mouse over the element. Tooltips also usually have a fade-in effect so they are more subtle in their appearance. In order to implement this the best property to manipulate is the <code>opacity</code>, while keeping the other display properties intact.</p>
<p>We will start by implementing the fade-in effect. The following CSS hides the tooltips by default, while keeping them present in the layout (so there are no jumps between elements on hover):</p>
<pre><code class="language-css">[role=&quot;tooltip&quot;] {
  opacity: 0;
}
</code></pre>
<p>The transition property here indicates that whenever the <code>opacity</code> property changes it should be increased following a <code>ease</code> function (which is the default and specifies a transition effect with a slow start, then fast and then slow again). This animation takes place for <code>0.1s</code> and gives an effect of fade-in to the tooltip.</p>
<pre><code class="language-css">[role=&quot;tooltip&quot;].active {
  opacity: 1;
  transition: opacity 0.1s;
}
</code></pre>
<p>As you saw above, the opacity is only applied when the tooltip is considered active, so we need to add this class to our tooltip when it&apos;s hovered to actually apply the CSS:</p>
<pre><code class="language-javascript">const displayTooltip = (e) =&gt; {
  const trigger = e.target;
  const tooltip = trigger.querySelector(&quot;[role=tooltip]&quot;);

	...

  tooltip.classList.add(&quot;active&quot;);
};

const hideTooltip = (e) =&gt; {
  const tooltip = e.target.querySelector(&quot;[role=tooltip]&quot;);
  tooltip.classList.remove(&quot;active&quot;);
};

tooltips.forEach((trigger) =&gt; {
  ...

  trigger.appendChild(tooltip);

	trigger.addEventListener(&quot;mouseenter&quot;, displayTooltip);
  trigger.addEventListener(&quot;mouseleave&quot;, hideTooltip);
});
</code></pre>
<p>Now that the tooltips have a fade-in effect we want to change them so they are only displayed after the user has spent a certain amount with their mouse over the element. A good amount of time I have seen for these animations is usually <code>300ms</code> but feel free to use any other you prefer.</p>
<p>Here we can opt for creating an anonymous function that wraps the <code>displayTooltip</code> and delays it&apos;s call. This allows us to keep the logic for displaying the tooltip decoupled from the fact we want to wait some time before displaying it.</p>
<pre><code class="language-javascript">const DELAY = 300;
let tooltipTimer = null;

tooltips.forEach((trigger) =&gt; {
	...

  trigger.addEventListener(&quot;mouseenter&quot;, (e) =&gt; {
    clearTimeout(tooltipTimer);

    tooltipTimer = setTimeout(() =&gt; {
      displayTooltip(e);
    }, DELAY);
  });

  trigger.addEventListener(&quot;mouseleave&quot;, (e) =&gt; {
    clearTimeout(tooltipTimer);
    hideTooltip(e);
  });
});
</code></pre>
<p>An important detail in this implementation is the cancellation of any previous display of a tooltip that might have been triggered. The reasoning is that we only want to display one tooltip at a time, so any previous tooltip scheduled animations should be cancelled.</p>
<p>Regarding the <code>mouseleave</code> we also cancel the animation in case the user has left the element (i.e. word) before the <code>300ms</code>. Forgetting to do this usually leads to memory leaks and dangling events in your application (which can be tricky in your test suites).</p>
<h2 id="adding-a-triangular-tip-to-the-tooltip">Adding a triangular &quot;tip&quot; to the Tooltip</h2>
<p>As a nice extra we can add a nice triangular tip to our tooltip (no pun intended)! To do this we can add a pseudo element to our tooltip that has a triangle shape. Let&apos;s start by adding a pesudo element to the tooltip and positioning it:</p>
<pre><code class="language-css">[role=&quot;tooltip&quot;]::before {
  content: &quot;&quot;;
  position: absolute;
  margin-top: -20px;
  transform: translateX(-50%);
  left: 50%;
}
</code></pre>
<p>Again we position the element absolutely, so it&apos;s positioned relative to its first positioned ancestor element, i.e. the tooltip. We apply <code>margin-top: -20px</code> because we want to display it at the top of the tooltip, and <code>20px</code> is the padding of the tooltip plus the &quot;height&quot; of the triangle (it will also be <code>10px</code>).</p>
<p>In order to center the triangle in the middle of the tooltip, first we make it&apos;s start be at the middle of the tooltip by using <code>left: 50%</code>. And after we apply <code>translateX(-50%)</code> to push it&apos;s start a little bit before so the middles coincide.</p>
<p>This works because the <code>left</code> property is based on the size of the parent element, i.e. the tooltip and the <code>transform</code> property is based on the size of the target element, i.e. the triangle,</p>
<pre><code class="language-css">[role=&quot;tooltip&quot;]::before {
	...
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid rgba(0, 0, 0, 0.7);
}
</code></pre>
<p>In order to form the actual triangle, we use an old trick where by setting no width and height and just the bottom border we get a triangle. The actual width and height of the arrow is determined by the width of the border. For a great explanation on this check this article on <a href="https://css-tricks.com/snippets/css/css-triangle/">CSS tricks</a>.</p>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="DELgOJ" data-user="chriscoyier" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/chriscoyier/pen/DELgOJ">
  Animation to Explain CSS Triangles</a> by Chris Coyier  (<a href="https://codepen.io/chriscoyier">@chriscoyier</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script><!--kg-card-end: html--><h2 id="final-result">Final Result</h2><!--kg-card-begin: html--><p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="YzLaPYd" data-user="diogoredin" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/diogoredin/pen/YzLaPYd">
  JavaScript &amp; CSS Tooltip</a> by Diogo Redin (<a href="https://codepen.io/diogoredin">@diogoredin</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script><!--kg-card-end: html--><!--kg-card-begin: markdown--><h2 id="final-notes">Final notes</h2>
<p>Some of the solutions here presented come from an amazing tutorial from the Chrome development team on how to develop a tooltip. The video includes some extra ideas on how to improve the accessibility of tooltips so I recommend you watch it:</p>
<!--kg-card-end: markdown--><figure class="kg-card kg-embed-card kg-card-hascaption"><iframe width="200" height="113" src="https://www.youtube.com/embed/Y5EIC_UyPME?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen title="Thinking on ways to solve TOOLTIPS"></iframe><figcaption>Tips on Tooltips accessibility</figcaption></figure>]]></content:encoded></item><item><title><![CDATA[How I like to use Tailwind]]></title><description><![CDATA[The first time I visited Tailwind’s website I was really fascinated by its clean design and numerous code samples, ready to be used. My main interest in Tailwind wasn’t its value proposition to replace CSS, but the ability to build really quick prototypes for SaaS ideas.]]></description><link>https://diogoredin.github.io/how-i-like-to-use-tailwind/</link><guid isPermaLink="false">63b5f26d71ec4d3f0b47cb3a</guid><category><![CDATA[Frontend]]></category><category><![CDATA[React]]></category><category><![CDATA[CSS]]></category><category><![CDATA[Tailwind]]></category><category><![CDATA[Styled Components]]></category><dc:creator><![CDATA[Diogo Redin]]></dc:creator><pubDate>Thu, 02 Dec 2021 22:08:46 GMT</pubDate><media:content url="https://diogoredin.github.io/content/images/2023/01/patrick-ryan-3kUIaB2EPp8-unsplash.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://diogoredin.github.io/content/images/2023/01/patrick-ryan-3kUIaB2EPp8-unsplash.jpg" alt="How I like to use Tailwind"><p>The first time I visited <a href="https://tailwindcss.com/">Tailwind&#x2019;s website</a> I was really fascinated by its clean design and numerous code samples, ready to be used. My main interest in Tailwind wasn&#x2019;t its value proposition to replace CSS, but the ability to <strong>build really quick prototypes for SaaS ideas</strong>.</p><p>I quickly setup a React project with Tailwind, which was fairly easy but I was immediately <strong>off put by the large amount of class name</strong>s that now all my components needed to have. Most the business logic was now harder to read because of Tailwind, and its structure harder to follow.</p><p>This all changed when I discovered <a href="https://www.npmjs.com/package/tailwind-styled-components">Tailwind Styled Components</a>. If you are used to <a href="https://styled-components.com/">Styled Components</a> or <a href="https://emotion.sh/docs/introduction">Emotion</a>, the logic is very similar: You create an element, (outside of the render method), give it their styles and only afterwards you call it. The difference with this package is that instead of providing CSS, you give each element a list of Tailwind class names to apply the styling. All of this with the <strong>advantage of being able to also use variables</strong> to conditionally apply styles.</p><h4 id="before">Before</h4><figure class="kg-card kg-code-card"><pre><code class="language-jsx">&lt;div className=`flex ${primary ? &quot;bg-indigo-600&quot; : &quot;bg-indigo-300&quot;} inline-flex items-center border border-transparent text-xs font-medium rounded shadow-sm text-white hover:bg-indigo-700 focus:outline-none`&gt;
</code></pre><figcaption>Tailwind without TW Styled Components</figcaption></figure><h4 id="after">After</h4><figure class="kg-card kg-code-card"><pre><code class="language-jsx">const Button = tw.div`
    ${(p) =&gt; (p.$primary ? &quot;bg-indigo-600&quot; : &quot;bg-indigo-300&quot;)}

    flex
    inline-flex
    items-center
    border
    border-transparent
    text-xs
    font-medium
    rounded
    shadow-sm
    text-white

    hover:bg-indigo-700
    focus:outline-none
`</code></pre><figcaption>Using Tailwind Styled Components</figcaption></figure><figure class="kg-card kg-code-card"><pre><code class="language-jsx">&lt;Button $primary={false}&gt;</code></pre><figcaption>Using Tailwind Styled Components</figcaption></figure><p>I usually only use Tailwind to make quick prototypes, so I use it conjunction with <a href="https://tailwindui.com/">Tailwind UI</a>, which has a large amount of components readily available to be used.</p><p>My process when converting these samples to my project involves:</p><ul><li>Creating the new component folder and respective <code>index.ts</code></li><li>Creating a file named after the component which has it&#x2019;s <code>RxJS</code> structure without any classnames (I like this because it eases searches and code identification in VSCode)</li><li>Creating a <code>styles.ts</code> file which includes <a href="https://www.npmjs.com/package/tailwind-styled-components">Tailwind Styled Components</a> and creates and exports all necessary elements to build the sample component.</li></ul><p>Coming up with names for the elements is a bit hard, but the rule I use with Styled Components usually helps me here as well. If it&#x2019;s a <strong>div to apply some spacing / alignment styles around an object</strong>, I usually call it <strong>SomethingContainer</strong> (e.g. MenuContainer). If it&#x2019;s more <strong>specific or about styling I call it SomethingStyled</strong> (e.g. StyledMenuItem).</p><p>Below you can see the example of an header created with this structure:</p><figure class="kg-card kg-code-card"><pre><code class="language-jsx">export { default } from &quot;./Header&quot;;
</code></pre><figcaption>header/index.tsx</figcaption></figure><figure class="kg-card kg-code-card"><pre><code class="language-jsx">import { useOktaAuth } from &quot;@okta/okta-react&quot;;
import { Link, useHistory } from &quot;react-router-dom&quot;;

import Button from &quot;../Button&quot;;
import {
  ButtonsContainer,
  LogoContainer,
  StyledHeader,
  StyledLogo,
} from &quot;./styles&quot;;

const Header = () =&gt; {
  const { authState, oktaAuth } = useOktaAuth();
  const history = useHistory();

  return (
    &lt;StyledHeader&gt;
      &lt;LogoContainer&gt;
        &lt;Link to=&quot;/&quot;&gt;
          &lt;StyledLogo src={`${process.env.PUBLIC_URL}/icon.svg`} /&gt;
        &lt;/Link&gt;
      &lt;/LogoContainer&gt;

      &lt;ButtonsContainer&gt;
        {authState.isAuthenticated ? (
          &lt;Button light onClick={() =&gt; oktaAuth.signOut()}&gt;
            Sign Out
          &lt;/Button&gt;
        ) : (
          &lt;Button light onClick={() =&gt; history.push(&quot;/signin&quot;)}&gt;
            Sign In
          &lt;/Button&gt;
        )}
        &lt;Button to=&quot;/signup&quot;&gt;Sign Up&lt;/Button&gt;
      &lt;/ButtonsContainer&gt;
    &lt;/StyledHeader&gt;
  );
};

export default Header;</code></pre><figcaption>header/Header.tsx</figcaption></figure><figure class="kg-card kg-code-card"><pre><code class="language-jsx">import tw from &quot;tailwind-styled-components&quot;;

export const StyledHeader = tw.header`
    flex
    justify-between
    items-center
    max-w-7xl
    mx-auto
    px-4 py-6
    sm:px-6
    md:justify-start
    md:space-x-10
    lg:px-8
`;

export const LogoContainer = tw.header`
    flex
    justify-start
    lg:w-0
    lg:flex-1
`;

export const StyledLogo = tw.img`
    h-8
    w-auto
    sm:h-10
`;

export const ButtonsContainer = tw.div`
    flex
    items-center
    justify-end
    md:flex-1
    lg:w-0
    gap-x-8
`;
</code></pre><figcaption>header/styles.ts</figcaption></figure><p>Another useful thing that you can do with Tailwind Styled Components is creating Typescript interfaces when they receive props to apply different styles. Take as an example this Link component which receives two arguments:</p><pre><code class="language-jsx">import { Link } from &quot;react-router-dom&quot;;
import tw from &quot;tailwind-styled-components&quot;;

interface LinkProps {
  $light: boolean;
  $full: boolean;
}

export const StyledLink = tw(Link)&lt;LinkProps&gt;`
    whitespace-nowrap
    text-base
    font-medium
    disabled:opacity-50
    ${(p) =&gt;
        p.$light
            ? &quot;text-gray-500 hover:text-gray-900&quot;
                : `
                    items-center
                    justify-center
                    px-4
                    py-2
                    rounded-md
                    text-white
                    bg-gradient-to-r
                    hover:from-purple-600
                    hover:to-green-300
                    from-yellow-500
                    to-pink-500
    `}
	${(p) =&gt; (p.$full ? &quot;flex w-full&quot; : &quot;inline-flex&quot;)}
`;</code></pre><p>Hope you enjoyed the article and have fun with Tailwind!</p>]]></content:encoded></item><item><title><![CDATA[How to do good code reviews]]></title><description><![CDATA[Code reviews can be daunting to make, especially if you are new to the technology or the team you are in. However, code reviews are one of the best opportunities you have to grow as an engineer and help your team move forward.
]]></description><link>https://diogoredin.github.io/how-to-do-good-code-reviews/</link><guid isPermaLink="false">63b5f26d71ec4d3f0b47cb38</guid><category><![CDATA[Development]]></category><category><![CDATA[Software Engineering]]></category><category><![CDATA[Testing]]></category><category><![CDATA[Accessibility]]></category><category><![CDATA[Getting Started]]></category><dc:creator><![CDATA[Diogo Redin]]></dc:creator><pubDate>Mon, 24 May 2021 00:33:07 GMT</pubDate><media:content url="https://diogoredin.github.io/content/images/2023/01/fatos-bytyqi-Agx5_TLsIf4-unsplash.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://diogoredin.github.io/content/images/2023/01/fatos-bytyqi-Agx5_TLsIf4-unsplash.jpg" alt="How to do good code reviews"><p>Code reviews can be daunting to make, especially if you are new to the technology or the team you are in. However, code reviews are one of the best opportunities you have to grow as an engineer and help your team move forward. Code reviews should help your team:</p><ul><li>Be aligned on technical solutions</li><li>Improve the architecture of the application</li><li>Improve performance</li><li>Minimise technical debt</li><li>Provide teaching opportunities for all engineers involved</li></ul><p>Code reviews can also help you catch bugs the author didn&apos;t, but that responsibility should be mainly on your tests and the use of typed languages. Remember, no bug should reach the quality environment and at the end of the day you are equally responsible for the code you are reviewing.</p><h2 id="what-makes-good-reviews">What makes good reviews</h2><h3 id="timely">Timely</h3><p>Your priority number one as a team member should be to unblock any colleagues with code reviews pending and increase your overall team&apos;s productivity. </p><p>This means that if a colleague is struggling with any feedback you have left in their review you should prioritise helping them.</p><p>Being timely also means you should promptly review it again once the author has addressed all of your comments. Pair-programming is a great way to pass on any feedback faster and more effectively too.</p><p><strong>If you have pull requests awaiting for too long, either:</strong></p><p><strong><em>The pull requests are too long and are not being appropriately broken apart - </em></strong>Remember a feature can be composed of various smaller pull requests. Tools like feature flags or multiple feature branches based upon each other can help with this.</p><p><strong><em>The team is not experienced enough with the technology at hand - </em></strong>In this case the first point is even more important, because any novice to a technology might feel overwhelmed with a large diff. Besides this, you can start pair-programming with other engineers on the team, so they also become familiar with the technology and are more comfortable reviewing the code in the future.</p><p><strong><em>The pull request is not seen as a priority by everyone on the team - </em></strong>Sometimes the priorities of the team might not be clear for everyone. This can be addressed by making sure PRs have tasks associated which are visible, discussed and agreed upon before being started.</p><h3 id="professional-and-light-hearted">Professional and light-hearted</h3><p>It&apos;s important that you approach every code review with an open mind. This includes:</p><ul><li>Being ready to be challenged on your suggestions and opinions;</li><li>Being able to change your mind when presented with good counter arguments and facts;</li><li>Being able to negotiate trade-offs given various constraints.</li></ul><p>You should also try to keep a positive tone at all times. By maintaining a positive tone I mean:</p><ul><li>Always critique the code instead of the person;</li><li>Use positive vocabulary;</li><li>Formulate the suggestions always as proposals, up for discussion;</li><li>Give praise on the effort or any outstanding solutions;</li><li>Use emojis to make the review more light-hearted.</li></ul><p>You should also avoid using any cursing or slang language. The author might take it badly or feel you are unfriendly or aggressive.</p><h3 id="few-nit-picks">Few nit-picks</h3><p>Unless the other author is new and is still getting used to the team, it&apos;s a bad sign if your review contains too many nit-picks. If you find yourself nitpicking too much maybe it&apos;s time you introduce some kind of linter on your project or write down some guidelines for future authors.</p><p>You should however ensure your review does not consist of many nit-picks, since they might deviate the author from focusing on more important suggestions. If you find yourself nitpicking too much on someone&apos;s code schedule a meeting with them to help them find patterns and strategies they can use to improve.</p><h3 id="empathetic">Empathetic</h3><p>Software Engineering is one big act of empathy: Empathy for the user, empathy for other engineers, empathy for the product.</p><p>The top questions I regularly make myself when reviewing code are the following:</p><blockquote>If I were to implement this, would I do it this way? If not, in which way? Would it bring any benefits or is this approach okay as well?</blockquote><blockquote>Would other engineers understand this code? Can I grasp what the code is doing without looking at any documentation?</blockquote><blockquote>Does this feature have any performance issues? Should there be monitoring tools in place here?</blockquote><blockquote>If I onboarded a new engineer in the team could they extend this feature without much effort?</blockquote><blockquote>Does this code satisfy the product requirements?</blockquote><blockquote>Would a user like this experience? Is it accessible? Is there anything we overlooked in the user experience?</blockquote><blockquote>Does this code follow our guidelines?</blockquote><blockquote>Are we tracking or saving anything we shouldn&apos;t? Is the code ethic?</blockquote><h3 id="feasible-and-over-explanatory">Feasible and over-explanatory</h3><p>When I give feedback on a pull request I always ponder three variables: time, effort, and return on investment. I only leave a given suggestion if I believe it can be done without preventing the team from delivering the feature in time.</p><p>The only exception to this rule is if there is a major bug or flaw in the code. In cases I opt for not suggesting something I either leave it as optional in the pull request or discuss it with the author and create a new issue in the backlog for us to tackle later.</p><p>Another good practice is to have the code open and running locally and play around with the code to try out any solution you might want to suggest. This way you can fully reflect upon the repercussions of the suggestion and think twice if they really improve the code or product</p><p>If I face any hardship when implementing a suggestion I&apos;m giving I leave it documented for the author, so they have an easier time implementing it.</p><h3 id="ask-questions">Ask questions</h3><p>If there is something you don&apos;t understand in the code you should clarify it right away. If you don&apos;t understand something it&apos;s possible other engineers won&apos;t understand it either and the code should either be improved or documented.</p><h3 id="conventional-comments">Conventional Comments</h3><p>This is a best practice I have adopted since the last year. It&apos;s a simple syntax for formatting your review comments that indicates clearly to the author the scope, type, and importance of your comments. I have the website bookmarked and open it when reviewing if I don&apos;t remember any of the syntax options.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://conventionalcomments.org/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Conventional Comments</div><div class="kg-bookmark-description">Comments that are easy to grok and grep</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://conventionalcomments.org/favicon.ico" alt="How to do good code reviews"><span class="kg-bookmark-author">Conventional Comments</span><span class="kg-bookmark-publisher">Paul Slaughter</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://conventionalcomments.org/logo.png" alt="How to do good code reviews"></div></a></figure><h3 id="platform-features">Platform features</h3><p>You should take full advantage of the platform you are using for reviewing code. For instance, I always:</p><ul><li>Have key take ways in bold,</li><li>Have code samples with appropriate syntax highlighting,</li><li>Mark code suggestions marked as suggestions to produce nice code diffs,</li><li>Mark the comments as resolved / unresolved to keep the pull request organised.</li></ul><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://docs.github.com/en/github/writing-on-github/working-with-advanced-formatting/creating-and-highlighting-code-blocks#syntax-highlighting"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Creating and highlighting code blocks - GitHub Docs</div><div class="kg-bookmark-description">Share samples of code with fenced code blocks and enabling syntax highlighting.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://docs.github.com/assets/images/site/favicon.svg" alt="How to do good code reviews"><span class="kg-bookmark-author">GitHub Docs</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://docs.github.com/assets/images/help/writing/fenced-code-block-rendered.png" alt="How to do good code reviews"></div></a></figure><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://github.blog/changelog/2020-02-26-multi-line-code-suggestions-beta/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Multi-line code suggestions beta | GitHub Changelog</div><div class="kg-bookmark-description">Multi-line code suggestions beta</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://github.blog/wp-content/uploads/2019/01/cropped-github-favicon-512.png?fit=192%2C192" alt="How to do good code reviews"><span class="kg-bookmark-author">The GitHub Blog</span><span class="kg-bookmark-publisher">github-blog</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://github.blog/wp-content/uploads/2019/03/blog-card.png?fit=5001%2C2626" alt="How to do good code reviews"></div></a></figure><h2 id="what-steps-to-take-when-reviewing">What steps to take when reviewing</h2><h3 id="read-the-pull-request-and-associated-task">Read the pull request and associated task</h3><p>When doing a code review ensure the task accomplishes everything it set out to do and ensure the author didn&apos;t forget to implement anything.</p><p>This is probably the last time you can have a say on how a feature is built or its specifications, so take the chance to analyse it and suggest improvements you believe are essential (without going out-scope).</p><h3 id="run-the-code">Run the code</h3><p>As mentioned above, when reviewing the code I usually checkout the branch and run the code locally. This helps me:</p><ul><li>Ensure the code runs as expected on my machine too (the author didn&apos;t forget to document any change to the build phase and dependencies are well specified),</li><li>I can explore and get more familiar with the feature,</li><li>I can do some tests for common pitfalls I might remember,</li><li>I can try out suggestions before giving them to ensure they are feasible,</li><li>If it&apos;s a UI implementation I can checkout all spacings and colors are according to the wireframes, same for the user experience requirements.</li></ul><h3 id="analyse-the-tests">Analyse the tests</h3><p>Tests are a form of documentation and should verify the behaviour of the feature. Analysing the tests first guarantees you gain more context of the feature before diving into the implementation. You might come back here afterward to check for any missing tests.</p><p>When reviewing tests I usually check:</p><ul><li>If they are well grouped;</li><li>If their description makes sense;</li><li>If they are isolated and independent;</li><li>If they are reasonably fast;</li><li>If they are repeatable;</li><li>If their phases are clear: preparation, execution and assertion;</li><li>If the expectations are within the scope of the test description;</li><li>If the scope of each test is well delimited and does not try to test too much;</li><li>If the tests fail when the code is broken;</li><li>If there is the possibility they start producing false positives;</li><li>If they are not too coupled with implementation;</li><li>If they are easy to understand.</li></ul><p>I&apos;m an advocate that every line you write should be tested. Sometimes it won&apos;t be possible, but you should aim high and have a good effort to coverage ratio, enough to give you confidence in any code changes you might make in the future. When setting up a project it&apos;s useful to introduce tools to track the code coverage of your tests.</p><h3 id="analyse-the-implementation">Analyse the implementation</h3><p>When reviewing the implementation I usually review the commits one by one. I usually have both the commit diff and the code open in the IDE. Having the code open helps me make sense of the broader context and ensure the changes actually make sense within the current architecture.</p><p>Regarding the commits ideally, they all focus on the <em>why</em> instead of the <em>how </em>and give out information it would have been hard for the reader to get otherwise. I ensure these are well written and linked to the corresponding task for easier tracking in the future.</p><p>I&apos;m always on the lookout for convoluted code and ensure to leave suggestions when I believe it can be simplified. Naming is hard, but as a rule of thumb, names should be as short as possible. </p><p>If the code is implementing a feature very similar to something that already exists, I ensure the implementation is similar and that we take advantage of the appropriate abstractions. I also ask myself if I would be able to debug the code. If the answer is not, chances are it should be refactored.</p><p>When reviewing the implementation I also keep in mind algorithmic concerns, error handling, monitoring, and evaluate if the core software principles are being followed (within reason), namely:</p><p><strong>KISS -</strong><em> Keep it short and simple.</em></p><p><strong>DRY -</strong><em> Don&apos;t repeat yourself.</em></p><p><strong>Single-responsibility principle -</strong> <em>Every module, class or function in an application should have responsibility over a single part of that application functionality, and it should encapsulate that part.</em></p><p><strong>Open&#x2013;closed principle -</strong> <em>Software entities should be open for extension, but closed for modification.</em></p><p><strong>Liskov substitution principle -</strong> <em><strong>O</strong>bjects of a superclass should be replaceable with objects of its subclasses without breaking the application.</em></p><p><strong>Interface segregation principle -</strong> <em>Many client-specific interfaces are better than one general-purpose interface.</em></p><p><strong>Dependency inversion principle -</strong> <em>One should depend upon abstractions, not concretions.</em></p><p>Besides these, which are universal, you will also want to check specific best practices for the technology you are reviewing (and check the corresponding documentation to clarify any doubts or raise pertinent questions). Sometimes, when I see some code that I suspect might be missing some edge case, I open up the application and test through the scenario.</p><p>In the end, I also check if test descriptions, commit messages, documentation, and comments (if you do them) are written in understandable English since they are all part of the code being developed too.</p><h1 id="conclusion">Conclusion</h1><p>I hope this article has given you a few ideas of practices you can adopt when reviewing pull requests. They mostly reflect what I have learned from both giving and receiving feedback on pull requests.</p><p>I&apos;m constantly learning and evolving, so my opinion on some of these practices might change in the future, in which case I will edit this article or create a follow-up. If you have any comments or suggestions leave them down below. In the future I intend to do an article too on how to open great pull requests, so keep tuned!</p><h1 id="recommended-reads">Recommended reads</h1><p>If you would like to learn more I suggest you read the following articles:</p><ul><li><a href="https://google.github.io/eng-practices/review/reviewer/looking-for.html">Best practices on code reviews by Google</a></li><li><a href="https://blog.palantir.com/code-review-best-practices-19e02780015f">Code reviews best practices by Palantir</a></li><li><a href="https://stackoverflow.blog/2019/09/30/how-to-make-good-code-reviews-better/">How to make good code reviews by </a><a href="https://stackoverflow.blog/author/gorosz/" rel="author">Gergely Orosz</a></li><li><a href="https://phauer.com/2018/code-review-guidelines/">Code review guidelines by Philipp Hauer</a></li><li><a href="https://github.com/jspahrsummers/effective-code-review/blob/main/Effective%20Code%20Review.md">Effective code review by Justin Spahr-Summers</a></li></ul>]]></content:encoded></item><item><title><![CDATA[Getting started with React Testing Library]]></title><description><![CDATA[React Testing Library is a test library that helps us write integration and unit tests for our UI applications by allowing us to render components, perform actions upon them (click, type, check ...), and retrieve any element rendered through accessible and semantic queries.]]></description><link>https://diogoredin.github.io/getting-started-with-react-testing-library/</link><guid isPermaLink="false">63b5f26d71ec4d3f0b47cb33</guid><category><![CDATA[React]]></category><category><![CDATA[React Testing Library]]></category><category><![CDATA[Testing]]></category><category><![CDATA[Accessibility]]></category><category><![CDATA[Frontend]]></category><category><![CDATA[Software Engineering]]></category><category><![CDATA[Development]]></category><category><![CDATA[Getting Started]]></category><dc:creator><![CDATA[Diogo Redin]]></dc:creator><pubDate>Sun, 25 Apr 2021 17:20:00 GMT</pubDate><media:content url="https://diogoredin.github.io/content/images/2023/01/mickey-o-neil-xL66l--msXU-unsplash.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://diogoredin.github.io/content/images/2023/01/mickey-o-neil-xL66l--msXU-unsplash.jpg" alt="Getting started with React Testing Library"><p><em>React Testing Library</em> is a test library that helps us write <strong>integration and unit tests</strong> for our <strong>UI applications</strong> by allowing us to:</p><ul><li>Render components</li><li>Perform actions upon them (click, type, check ...)</li><li>Retrieve any element rendered through accessible and semantic queries</li></ul><p>It&apos;s built on top of <a href="https://testing-library.com/"><em>testing-library</em></a>, which has various integrations besides <em>React</em>, namely <em>Angular</em>, <em>Vue</em>, <em>puppeteer</em>, <em>webDriverIO</em>, <em>Cypress</em>, etc.</p><p>The <em>React Testing Library</em> philosophy can be sum up in the following statements:</p><ul><li>Focus on <strong>user behavior</strong></li><li>Don&apos;t test internal state or properties directly</li><li>Only test inputs and expected outputs</li></ul><p>As general advice, the best mindset to adopt when writing tests with this library is to <strong>act as your application user</strong>.</p><p>For reference, our application can have the following levels of tests:</p><ul><li><strong>E2E</strong> - Spin up the application and simulate user behavior. Similar to a robot performing a task in the application</li><li><strong>Integration</strong> - Verify that several units work together in harmony</li><li><strong>Unit</strong> - Verify the functionality of a single function/component</li><li><strong>Static</strong> - Catch type errors as you write code</li></ul><h2 id="queries-to-use">Queries to use</h2><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Query</th>
<th>Type</th>
<th>Returns</th>
<th>When</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>queryBy*</code></td>
<td>Synchronous</td>
<td>First matching node or null if there is no match.</td>
<td>Good for asserting if an element is not present in the UI</td>
</tr>
<tr>
<td><code>getBy*</code></td>
<td>Synchronous</td>
<td>First matching node or throws an error if there is no match.</td>
<td>Good for assertions of elements we know are already in the UI</td>
</tr>
<tr>
<td><code>findBy*</code></td>
<td>Asynchronous</td>
<td>A promise that resolves when a matching node is found or rejects if there is no match.</td>
<td>Good to wait for elements to be rendered in the UI</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Type</th>
<th>Examples</th>
<th>Characteristics</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Accessible</strong></td>
<td><code>getByRole</code>, <code>getByLabelText</code>, <code>getByPlaceholderText</code>, <code>getByText</code>, <code>getByDisplayValue</code></td>
<td>Reflect the experience of visual/mouse users as well as those that use assistive technology</td>
</tr>
<tr>
<td><strong>Semantic</strong></td>
<td><code>getByAltText</code>, <code>getByTitle</code></td>
<td>HTML5 and ARIA compliant selectors</td>
</tr>
<tr>
<td><strong>Test IDs</strong></td>
<td><code>getByTestId</code></td>
<td>Reflects implementation details and the user can&#x2019;t interact with them</td>
</tr>
<tr>
<td><strong>Manual</strong></td>
<td><code>querySelector</code></td>
<td>Same as above and more prone to changes</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>All these queries support an `AllBy` variant for getting an array of all matching nodes.</p><h2 id="awaits-and-assertions">Awaits and assertions</h2><p>Do I need an expectation after a find? No, but:</p><ul><li>It will make what you are testing clearer for other programmers</li><li>What you are waiting for might not include all assertions you need to make</li></ul><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/await_and_assertions.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1110" height="732" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/await_and_assertions.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/await_and_assertions.png 1000w, https://diogoredin.github.io/content/images/2023/01/await_and_assertions.png 1110w" sizes="(min-width: 720px) 720px"></figure><h2 id="firing-events">Firing Events</h2><p><strong>UserEvent</strong> is a companion library for Testing Library that provides more advanced simulation of browser interactions than the built-in <strong>fireEvent</strong> method.</p><p>For instance, when typing it will first click on the input and then type the text, firing multiple events, closer to what the user will do.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/fire_event.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1632" height="516" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/fire_event.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/fire_event.png 1000w, https://diogoredin.github.io/content/images/size/w1600/2023/01/fire_event.png 1600w, https://diogoredin.github.io/content/images/2023/01/fire_event.png 1632w" sizes="(min-width: 720px) 720px"></figure><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/user_event.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1346" height="552" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/user_event.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/user_event.png 1000w, https://diogoredin.github.io/content/images/2023/01/user_event.png 1346w" sizes="(min-width: 720px) 720px"></figure><h2 id="the-not-wrapped-in-act-warning">The &quot;not wrapped in act(...)&quot; warning</h2><ul><li>Happens when something in the component changes and we didn&#x2019;t test it</li></ul><p><strong>Don&#x2019;t just wrap the test in</strong> <code>act(() =&gt; {})</code></p><ul><li>Functions from React Testing Library are all wrapped in <code>act</code> by default, ensuring that if you test the component change the warning will disappear</li></ul><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/act_warning.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1035" height="191" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/act_warning.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/act_warning.png 1000w, https://diogoredin.github.io/content/images/2023/01/act_warning.png 1035w" sizes="(min-width: 720px) 720px"></figure><h2 id="using-the-debugger">Using the debugger</h2><p>Sometimes it might be useful to see what elements are present in the DOM. To do so we can use the <code>screen.debug()</code> instruction inside our test. If the elements printed are too many and get cut you can set the env var <code>DEBUG_PRINT_LIMIT</code> with a large print limit, e.g. <code>DEBUG_PRINT_LIMIT=30000 yarn test</code>.</p><ul><li>To print the entire document: <code>screen.debug()</code></li><li>To print a single element: <code>screen.debug(screen.getByText(&apos;test&apos;))</code></li><li>To print multiple elements: <code>screen.debug(screen.getAllByText(&apos;test&apos;))</code></li></ul><h2 id="using-the-testing-playground-com">Using the <a href="http://testing-playground.com/">testing-playground.com</a></h2><ul><li>To open the entire document in the playground: <code>screen.logTestingPlayground()</code></li><li>To open a single element in the playground: <code>screen.logTestingPlayground(screen.getByText(&apos;test&apos;))</code></li></ul><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/testing_playground_url.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="617" height="181" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/testing_playground_url.png 600w, https://diogoredin.github.io/content/images/2023/01/testing_playground_url.png 617w"></figure><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/testing_playground.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1069" height="596" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/testing_playground.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/testing_playground.png 1000w, https://diogoredin.github.io/content/images/2023/01/testing_playground.png 1069w" sizes="(min-width: 720px) 720px"></figure><h2 id="utilities">Utilities</h2><ul><li>waitFor waits for expectations to pass, which can be for example a function or API call;</li><li><code>waitForElementToBeRemove</code> waits for an element present in the page to be removed;</li><li><code>within(screen.getByRole(&apos;form&apos;)).getByText(&apos;test&apos;)</code> searches for an element inside another;</li></ul><h2 id="common-mistakes">Common mistakes</h2><h3 id="not-using-testing-library-eslint-plugins">Not using Testing Library ESLint plugins</h3><p>There are two plugins that can help a lot in avoiding most of the mistakes I&apos;m about to mention.</p><ul><li><a href="https://github.com/testing-library/eslint-plugin-testing-library">eslint-plugin-testing-library</a></li><li><a href="https://github.com/testing-library/eslint-plugin-jest-dom">eslint-plugin-jest-dom</a></li></ul><h3 id="using-act-">Using act()</h3><p>The act warning usually means that something in your test is happening which is not tested. Most utilities from React Testing Library are already wrapped in act to mark the behaviors you assert as tested, so there is usually no need to wrap your tests in act.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/act_warning-1.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1035" height="191" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/act_warning-1.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/act_warning-1.png 1000w, https://diogoredin.github.io/content/images/2023/01/act_warning-1.png 1035w" sizes="(min-width: 720px) 720px"></figure><h3 id="forgetting-to-await-queries">Forgetting to await queries</h3><p>Asynchronous queries (<code>findBy*</code>, <code>waitFor</code>, <code>waitForElementToBeRemoved</code>, etc.) returns promises and need to have await in front of their invocation, otherwise, the next instruction will be executed before the queries return.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/no_await.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="840" height="696" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/no_await.png 600w, https://diogoredin.github.io/content/images/2023/01/no_await.png 840w" sizes="(min-width: 720px) 720px"></figure><h3 id="adding-aria-role-and-other-accessibility-attributes-incorrectly">Adding <em>aria-</em>, role, and other accessibility attributes incorrectly</h3><p>With <strong>React Testing Library</strong> influencing us towards improving our components accessibility it might be tempting to throw attributes to just make the test work.</p><p>In the example below, for instance, getting a form <code>&lt;form&gt;&lt;/form&gt;</code> with <code>getByRole(&quot;form&quot;)</code> would not work until we add an aria-label. One could force the role manually <code>&lt;form role=&quot;role&quot;&gt;&lt;/form&gt;</code> and although it would work (if you don&apos;t have any a11y eslint plugin in place) the correct form would be <code>&lt;form aria-label=&quot;Sign In&quot;&gt;&lt;/form&gt;</code>.</p><p>My recommendation is to always read the MDN document regarding <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles">Roles</a> to better understand what best suits your use cases. There is also a very good website (<a href="https://www.a11ymatters.com/patterns">a11ymatters</a>) which contains the most common UI patterns and the accessibility attributes to use.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/wrong_attributes.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="874" height="696" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/wrong_attributes.png 600w, https://diogoredin.github.io/content/images/2023/01/wrong_attributes.png 874w" sizes="(min-width: 720px) 720px"></figure><h3 id="using-getby-with-expect-not-tobeinthedocument-">Using getBy* with expect().not.toBeInTheDocument()</h3><p>The issue with using getBy with <code>expect().not.toBeInTheDocument()</code> is that if the element does not exist the query will throw an error before it even gets to evaluate if the element is not on the screen. The query <code>queryBy</code> was created specifically for these use cases, to assert if an element is not in the document without it throwing an error.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/wrong_query_by.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1210" height="624" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/wrong_query_by.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/wrong_query_by.png 1000w, https://diogoredin.github.io/content/images/2023/01/wrong_query_by.png 1210w" sizes="(min-width: 720px) 720px"></figure><h3 id="using-query-variants-for-anything-except-checking-for-non-existence">Using query* variants for anything except checking for non-existence</h3><p>The <code>query*</code> variants should only be used to verify the non-existence of elements, which was the reason they were initially created. For checking the existence of elements, <code>getBy</code> should be used instead.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/query_by.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1278" height="624" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/query_by.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/query_by.png 1000w, https://diogoredin.github.io/content/images/2023/01/query_by.png 1278w" sizes="(min-width: 720px) 720px"></figure><h3 id="using-await-with-fireevent-userevent-or-non-async-queries">Using await with fireEvent, userEvent or non async queries</h3><p><code>fireEvent</code> and <code>userEvent</code> are synchronous functions which means we don&apos;t need to mark them with await.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/await_fire_event.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1312" height="840" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/await_fire_event.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/await_fire_event.png 1000w, https://diogoredin.github.io/content/images/2023/01/await_fire_event.png 1312w" sizes="(min-width: 720px) 720px"></figure><h3 id="waitfor-to-wait-for-elements-that-can-be-queried-with-find-">waitFor to wait for elements that can be queried with find*</h3><p><code>find</code> queries already return a promise, so it&apos;s straightforward to await them to resolve in our tests.</p><p>If we end up repeating ourselves with these elements we need to wait for we can even extract them to some nice one-line helpers.</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/wait_for_instead_of_find.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1144" height="696" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/wait_for_instead_of_find.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/wait_for_instead_of_find.png 1000w, https://diogoredin.github.io/content/images/2023/01/wait_for_instead_of_find.png 1144w" sizes="(min-width: 720px) 720px"></figure><h3 id="using-side-effects-inside-waitfor">Using side effects inside waitFor</h3><p><code>waitFor</code> should be used exclusively to assert if our expectations have been completed, since the waitFor retries multiple times until it passes (or fails after a certain time threshold).</p><figure class="kg-card kg-image-card"><img src="https://diogoredin.github.io/content/images/2023/01/wait_for_side_effects.png" class="kg-image" alt="Getting started with React Testing Library" loading="lazy" width="1212" height="984" srcset="https://diogoredin.github.io/content/images/size/w600/2023/01/wait_for_side_effects.png 600w, https://diogoredin.github.io/content/images/size/w1000/2023/01/wait_for_side_effects.png 1000w, https://diogoredin.github.io/content/images/2023/01/wait_for_side_effects.png 1212w" sizes="(min-width: 720px) 720px"></figure><h2 id="credits">Credits</h2><ul><li><a href="https://testing-library.com/">Testing Library Documentation</a></li><li><a href="https://testing-library.com/docs/react-testing-library/intro/">React Testing Library Documentation</a></li><li><a href="https://kentcdodds.com/blog/introducing-the-react-testing-library">Introducing the React Testing Library - Kent C. Dodds</a></li><li><a href="https://kentcdodds.com/blog/common-mistakes-with-react-testing-library">Common mistakes with React Testing Library - Kent C. Dodds</a></li><li><a href="https://javascript.plainenglish.io/react-hooks-broke-my-tests-now-what-part-1-a5a7783e777e">React hooks broke my tests - Daniel Afonso</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility MDN Documents</a></li><li><a href="https://www.a11ymatters.com/">A11Y Matters</a></li></ul>]]></content:encoded></item></channel></rss>